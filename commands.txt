# Creating ECR Repo

    aws ecr create-repository --repository-name project3 --region us-east-1 --image-scanning-configuration scanOnPush=true --image-tag-mutability MUTABLE

# Create image and push it to AWS ECR

    docker build --platform linux/amd64 --provenance=false -t project3:latest .
    aws ecr get-login-password --region us-east-1 | docker login --username AWS --password-stdin 084828561591.dkr.ecr.us-east-1.amazonaws.com
    docker tag project3:latest 084828561591.dkr.ecr.us-east-1.amazonaws.com/project3:latest
    docker push 084828561591.dkr.ecr.us-east-1.amazonaws.com/project3:latest

    aws lambda create-function \
    --function-name gop \
    --package-type Image \
    --code ImageUri=084828561591.dkr.ecr.us-east-1.amazonaws.com/project3:latest \
    --role arn:aws:iam::084828561591:role/project3

    aws lambda invoke --function-name gop --payload file://event.json output.json

# Local testing
    curl -XPOST "http://localhost:9000/2015-03-31/functions/function/invocations" -d @event.json
    docker run -p 9000:8080 project3:latest
    docker exec -it 1111111111 /bin/bash

# Workload generator testing
    python workload_generator.py --access_key AKIARHQBNEC37WPUWBWV --secret_key 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 --input_bucket 1229729607-input --output_bucket 1229729607-stage-1 --testcase_folder Project_2/dataset/test_case_1/
    python workload_generator.py --access_key AKIARHQBNEC37WPUWBWV --secret_key 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 --input_bucket 1229729607-input --output_bucket 1229729607-stage-1 --testcase_folder Project_2/dataset/test_case_2/
    python grader_script_p1.py --access_key AKIARHQBNEC37WPUWBWV --secret_key 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 --input_bucket 1229729607-input --output_bucket 1229729607-stage-1 --lambda_name video-splitting
